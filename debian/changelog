hockeypuck (2.0.14) bionic; urgency=medium

  * add option to disable keyword searches
  * add option to send only valid self-signed packets in responses
  * added example standalone docker-compose deployment
  * support for gnupg 2.x ECC keys
  * misc test fixes

 -- Casey Marshall <casey.marshall@canonical.com>  Sun, 01 Sep 2019 14:08:26 -0500

hockeypuck (2.0.13) bionic; urgency=medium

  * snapcraft.yaml for in-tree builds
  * don't use errgo.Notef to collect all errors in requestRecovered

 -- Paul Collins <paul.collins@canonical.com>  Fri, 06 Sep 2019 09:49:41 +1200

hockeypuck (2.0.12) bionic; urgency=medium

  * remove duplicate role from WithLabelValues in recordReconBusyPeer
  * get/hget: write required trailing newline
  * pghkp: use only "IF NOT EXISTS" schema statements

 -- Paul Collins <paul.collins@canonical.com>  Mon, 19 Aug 2019 16:16:47 +1200

hockeypuck (2.0.11) bionic; urgency=medium

  * add prometheus metrics to hockeypuck
  * switch to a separate metrics listener
  * more and better logging for recon and recovery
  * 30 second timeout for hashquery POST requests

 -- Paul Collins <paul.collins@canonical.com>  Wed, 07 Aug 2019 17:21:18 +1200

hockeypuck (2.0.10) bionic; urgency=medium

  * capture and log the HTTP status code, and some other headers
  * conflux: log remote address

 -- Paul Collins <paul.collins@canonical.com>  Tue, 06 Aug 2019 10:27:58 +1200

hockeypuck (2.0.9) bionic; urgency=medium

  * set ID fields in overlooked KeyAdded and KeyReplaced values, fixing logging

 -- Paul Collins <paul.collins@canonical.com>  Fri, 02 Aug 2019 08:42:20 +1200

hockeypuck (2.0.8) bionic; urgency=medium

  * use plainto_tsquery instead of preparing the query ourselves
  * pg_config prints a hint on failure; report it
  * include the public key ID when logging parse errors
  * include the public key ID when reporting additions and changes

 -- Paul Collins <paul.collins@canonical.com>  Thu, 01 Aug 2019 09:22:34 +1200

hockeypuck (2.0.7) bionic; urgency=medium

  * add systemd unit file, and install it
  * include the prefix tree key in full-key hash format when logging
  * match by subkey ID, and do not pass through non-existent full-length IDs

 -- Paul Collins <paul.collins@canonical.com>  Wed, 31 Jul 2019 08:50:15 +1200

hockeypuck (2.0.6) bionic; urgency=medium

  * Handle keywords that exceed tsvector limits.

 -- Joel Sing <joel.sing@canonical.com>  Thu, 27 Jun 2019 02:03:29 +1000

hockeypuck (2.0.5) bionic; urgency=medium

  [ Paul Collins ]
  * pghkp: report duplicates when inserting
  * insertKey: flag duplicate keys that have no subkeys

  [ Joel Sing ]
  * Add hockeypuck website content

 -- Joel Sing <joel.sing@canonical.com>  Fri, 07 Jun 2019 12:14:46 +0200

hockeypuck (2.0.4) bionic; urgency=medium

  * Drop malformed packets when serving armoured key ring.
  * Clean up stats code and fix locking.

 -- Joel Sing <joel.sing@canonical.com>  Thu, 23 May 2019 14:02:50 +1000

hockeypuck (2.0.3) bionic; urgency=medium

  * Place postgresql related tests under integration flag

 -- Joel Sing <joel.sing@canonical.com>  Thu, 23 May 2019 03:16:55 +1000

hockeypuck (2.0.2) bionic; urgency=medium

  * Keep GOCACHE inside the project

 -- Joel Sing <joel.sing@canonical.com>  Thu, 23 May 2019 02:19:44 +1000

hockeypuck (2.0.1) bionic; urgency=medium

  * Correct build dependencies.
  * Bump major to 2.x.

 -- Joel Sing <joel.sing@canonical.com>  Thu, 23 May 2019 01:48:11 +1000

hockeypuck (1.0.1) bionic; urgency=medium

  [ Joel Sing ]
  * Initial README and .gitignore
  * Squash merge github.com/hockeypuck/packaging at 1be94a6a.
  * Move scripts into a separate directory.
  * Document hockeypuck subtrees.
  * Merge commit 'e263fdf06008f8ab5aa1d116e09317b11e8dfe1c' as 'src/hockeypuck/conflux'
  * Merge commit '547481fd09f6e2241b14e267a5deddece0227bc4' as 'src/hockeypuck/hkp'
  * Merge commit 'bf43df5ac52c73e23fc3b2a09bb519aa76efa0e2' as 'src/hockeypuck/logrus'
  * Merge commit '31c49c0f74e4d74ab406fed93406452d90f8e298' as 'src/hockeypuck/mgohkp'
  * Merge commit '1f22021942c1f9685d3b9531a355f122dfb62102' as 'src/hockeypuck/openpgp'
  * Merge commit '2b536c3de0809ad2e2326195dbf0e58a8224348b' as 'src/hockeypuck/pghkp'
  * Merge commit 'c88932516c77bcf9528315dedb61f0acf842b63f' as 'src/hockeypuck/server'
  * More hockeypuck subtrees
  * Rewrite hockeypuck imports.
  * Convert dependencies to go mod
  * Fix incorrect logrus imports on vendored code.
  * Vendor dependencies via 'go mod vendor'
  * Provide initial Makefile
  * gofmt
  * Ensure hockeypuck server has no unexpected arguments
  * Improve hockeypuck-load logging
  * Merge commit 'eaa0c669027ace098ee2cc4f4fd2169e68c8e414' as 'src/hockeypuck/testing'
  * Merge commit '29aca47cd0261b613faf221600c7d89f44c4e5de' as 'src/hockeypuck/pgtest'

  [ Casey Marshall ]
  * Fix row scan type for RenotifyAll.

  [ Simon Law ]
  * Match username or domain part of email addresses

  [ Joel Sing ]
  * Update vendored dependencies
  * Add lint/test targets and fix various lint errors.
  * Export jsonhkp.publicKey (as PublicKey)
  * Fix locking related bug in Stats.ReadFile
  * Fix various tests and a bug in Stats.ReadFile
  * Handle each key in a separate database transaction
  * Avoid incorrect use of sync.WaitGroup and improve skew
  * Fix bad NewStats merge.
  * Simplify packaging and release process

 -- Joel Sing <joel.sing@canonical.com>  Thu, 23 May 2019 01:11:20 +1000
