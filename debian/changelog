hockeypuck (2.1.0~1.gbpa56710) UNRELEASED; urgency=medium

  ** SNAPSHOT build @a56710502b2c2b22217ab45969c178b3bdf53d2c **

  [ Paul Collins ]
  * don't use errgo.Notef to collect all errors in requestRecovered
  * log errors requesting chunks as they occur and just return a summary to the caller
  * hockeypuck-config-wrapper: $EDITOR is not available to snaps; use sensible-editor instead
  * snapcraft.yaml for in-tree builds, and install target for snapcraft and debuild
  * use go from a snap, update summary and description
  * update snapcraft.yaml for modern snapcraft, update README.md
  * remove duplicate copy of templates and www, eliminate var/lib/hockeypuck
  * add home to dump and load
  * README.md: rewrite and expand snapcraftery
  * format code using code blocks (four space indent)

  [ Casey Marshall ]
  * Update standalone hockeypuck image to latest release.
  * Remove vendored go crypto packages.
  * Merge commit '3f797f4e4c6bb715a4a3bdec4371df44531e1cd6' as 'src/vendor/golang.org/x/crypto'
  * HKP query policy configuration options to protect gnupg.
  * Add test coverage.
  * Fix 400 response for op=index and keyword search disabled.

  [ Paul Collins ]
  * 2.0.13 release

  [ Joel Sing ]
  * Remove ProtonMail/crypto subtree and revendor golang.org/x/crypto.
  * Remove reference to ProtonMail/crypto subtree.
  * Replace golang.org/x/crypto with github.com/ProtonMail/crypto@v2.0.0
  * Update vendored dependencies via go mod.
  * Remove ProtonMail/crypto subtree and revendor golang.org/x/crypto.
  * Remove reference to ProtonMail/crypto subtree.
  * Replace golang.org/x/crypto with github.com/ProtonMail/crypto@v2.0.0
  * Update vendored dependencies via go mod.

  [ Casey Marshall ]
  * Merge/reconcile changes from Launchpad upstream repo.
  * Revert "Removing contrib deployment stuff that's no longer maintained."
  * Fix snapcraft LXD instruction.

  [ Paul Collins ]
  * remove unused snap files

  [ Casey Marshall ]
  * Address conflux memory leaks.
  * New release script, removing obsolete scripts.

  [ Paul Collins ]
  * don't use errgo.Notef to collect all errors in requestRecovered
  * log errors requesting chunks as they occur and just return a summary to the caller
  * hockeypuck-config-wrapper: $EDITOR is not available to snaps; use sensible-editor instead
  * snapcraft.yaml for in-tree builds, and install target for snapcraft and debuild
  * use go from a snap, update summary and description
  * update snapcraft.yaml for modern snapcraft, update README.md
  * remove duplicate copy of templates and www, eliminate var/lib/hockeypuck
  * add home to dump and load
  * README.md: rewrite and expand snapcraftery
  * format code using code blocks (four space indent)

  [ Casey Marshall ]
  * Update standalone hockeypuck image to latest release.
  * Remove vendored go crypto packages.
  * Merge commit '3f797f4e4c6bb715a4a3bdec4371df44531e1cd6' as 'src/vendor/golang.org/x/crypto'
  * HKP query policy configuration options to protect gnupg.
  * Add test coverage.
  * Fix 400 response for op=index and keyword search disabled.

  [ Paul Collins ]
  * 2.0.13 release

  [ Joel Sing ]
  * Remove ProtonMail/crypto subtree and revendor golang.org/x/crypto.
  * Remove reference to ProtonMail/crypto subtree.
  * Replace golang.org/x/crypto with github.com/ProtonMail/crypto@v2.0.0
  * Update vendored dependencies via go mod.
  * Remove ProtonMail/crypto subtree and revendor golang.org/x/crypto.
  * Remove reference to ProtonMail/crypto subtree.
  * Replace golang.org/x/crypto with github.com/ProtonMail/crypto@v2.0.0
  * Update vendored dependencies via go mod.

  [ Casey Marshall ]
  * Merge/reconcile changes from Launchpad upstream repo.
  * Revert "Removing contrib deployment stuff that's no longer maintained."
  * Fix snapcraft LXD instruction.

  [ Paul Collins ]
  * remove unused snap files

  [ Casey Marshall ]
  * Address conflux memory leaks.
  * New release script, removing obsolete scripts.
  * Release 2.0.15
  * New release script, removing obsolete scripts.
  * Release 2.0.15
  * Add script to publish docker image to Github.
  * Update FUNDING.yml

  [ Wiktor Kwapisiewicz ]
  * Fix calculation of key expiration

  [ Casey Marshall ]
  * Expose HKP query configuration in op=stats&options=json
  * Filter out packets with invalid self-signatures in query response.
  * New release script, removing obsolete scripts.
  * Release 2.0.15
  * Add script to publish docker image to Github.
  * Update FUNDING.yml

  [ Wiktor Kwapisiewicz ]
  * Fix calculation of key expiration

  [ Casey Marshall ]
  * Expose HKP query configuration in op=stats&options=json
  * Filter out packets with invalid self-signatures in query response.
  * Release 2.0.16
  * Remove unused release architectures from debian/control.
  * Remove contact section.

  [ Thomas Cuthbert ]
  * Update hockeypuck wrapper to support cpu and memory profiling

  [ Casey Marshall ]
  * Relocate go.mod, vendored dependencies, update goleveldb.
  * Add pyinfra deployment.
  * Add prometheus ops to pyinfra.
  * Key reader options and improvements
  * Integrated terraform support with pyinfra deployment.
  * Remove test files.
  * Block recon peer while recovering missing keys.
  * Fix terraform google deployment.
  * Add pull request gh action
  * Remove mongodb support.
  * Update deployment to pyinfra 1.2.
  * Replace errgo with pkg/errors.
  * Fix read length maximum errors.
  * HIP-1, authenticated key replacement.
  * Use replace rather than add endpoint.
  * Default limits on packet length and overall key length.

 --  <pi@raspberrypi>  Wed, 09 Dec 2020 22:45:06 -0600

hockeypuck (2.0.14) bionic; urgency=medium

  * add option to disable keyword searches
  * add option to send only valid self-signed packets in responses
  * added example standalone docker-compose deployment
  * support for gnupg 2.x ECC keys
  * misc test fixes

 -- Casey Marshall <casey.marshall@canonical.com>  Sun, 01 Sep 2019 14:08:26 -0500

hockeypuck (2.0.13) bionic; urgency=medium

  * snapcraft.yaml for in-tree builds
  * don't use errgo.Notef to collect all errors in requestRecovered

 -- Paul Collins <paul.collins@canonical.com>  Fri, 06 Sep 2019 09:49:41 +1200

hockeypuck (2.0.12) bionic; urgency=medium

  * remove duplicate role from WithLabelValues in recordReconBusyPeer
  * get/hget: write required trailing newline
  * pghkp: use only "IF NOT EXISTS" schema statements

 -- Paul Collins <paul.collins@canonical.com>  Mon, 19 Aug 2019 16:16:47 +1200

hockeypuck (2.0.11) bionic; urgency=medium

  * add prometheus metrics to hockeypuck
  * switch to a separate metrics listener
  * more and better logging for recon and recovery
  * 30 second timeout for hashquery POST requests

 -- Paul Collins <paul.collins@canonical.com>  Wed, 07 Aug 2019 17:21:18 +1200

hockeypuck (2.0.10) bionic; urgency=medium

  * capture and log the HTTP status code, and some other headers
  * conflux: log remote address

 -- Paul Collins <paul.collins@canonical.com>  Tue, 06 Aug 2019 10:27:58 +1200

hockeypuck (2.0.9) bionic; urgency=medium

  * set ID fields in overlooked KeyAdded and KeyReplaced values, fixing logging

 -- Paul Collins <paul.collins@canonical.com>  Fri, 02 Aug 2019 08:42:20 +1200

hockeypuck (2.0.8) bionic; urgency=medium

  * use plainto_tsquery instead of preparing the query ourselves
  * pg_config prints a hint on failure; report it
  * include the public key ID when logging parse errors
  * include the public key ID when reporting additions and changes

 -- Paul Collins <paul.collins@canonical.com>  Thu, 01 Aug 2019 09:22:34 +1200

hockeypuck (2.0.7) bionic; urgency=medium

  * add systemd unit file, and install it
  * include the prefix tree key in full-key hash format when logging
  * match by subkey ID, and do not pass through non-existent full-length IDs

 -- Paul Collins <paul.collins@canonical.com>  Wed, 31 Jul 2019 08:50:15 +1200

hockeypuck (2.0.6) bionic; urgency=medium

  * Handle keywords that exceed tsvector limits.

 -- Joel Sing <joel.sing@canonical.com>  Thu, 27 Jun 2019 02:03:29 +1000

hockeypuck (2.0.5) bionic; urgency=medium

  [ Paul Collins ]
  * pghkp: report duplicates when inserting
  * insertKey: flag duplicate keys that have no subkeys

  [ Joel Sing ]
  * Add hockeypuck website content

 -- Joel Sing <joel.sing@canonical.com>  Fri, 07 Jun 2019 12:14:46 +0200

hockeypuck (2.0.4) bionic; urgency=medium

  * Drop malformed packets when serving armoured key ring.
  * Clean up stats code and fix locking.

 -- Joel Sing <joel.sing@canonical.com>  Thu, 23 May 2019 14:02:50 +1000

hockeypuck (2.0.3) bionic; urgency=medium

  * Place postgresql related tests under integration flag

 -- Joel Sing <joel.sing@canonical.com>  Thu, 23 May 2019 03:16:55 +1000

hockeypuck (2.0.2) bionic; urgency=medium

  * Keep GOCACHE inside the project

 -- Joel Sing <joel.sing@canonical.com>  Thu, 23 May 2019 02:19:44 +1000

hockeypuck (2.0.1) bionic; urgency=medium

  * Correct build dependencies.
  * Bump major to 2.x.

 -- Joel Sing <joel.sing@canonical.com>  Thu, 23 May 2019 01:48:11 +1000

hockeypuck (1.0.1) bionic; urgency=medium

  [ Joel Sing ]
  * Initial README and .gitignore
  * Squash merge github.com/hockeypuck/packaging at 1be94a6a.
  * Move scripts into a separate directory.
  * Document hockeypuck subtrees.
  * Merge commit 'e263fdf06008f8ab5aa1d116e09317b11e8dfe1c' as 'src/hockeypuck/conflux'
  * Merge commit '547481fd09f6e2241b14e267a5deddece0227bc4' as 'src/hockeypuck/hkp'
  * Merge commit 'bf43df5ac52c73e23fc3b2a09bb519aa76efa0e2' as 'src/hockeypuck/logrus'
  * Merge commit '31c49c0f74e4d74ab406fed93406452d90f8e298' as 'src/hockeypuck/mgohkp'
  * Merge commit '1f22021942c1f9685d3b9531a355f122dfb62102' as 'src/hockeypuck/openpgp'
  * Merge commit '2b536c3de0809ad2e2326195dbf0e58a8224348b' as 'src/hockeypuck/pghkp'
  * Merge commit 'c88932516c77bcf9528315dedb61f0acf842b63f' as 'src/hockeypuck/server'
  * More hockeypuck subtrees
  * Rewrite hockeypuck imports.
  * Convert dependencies to go mod
  * Fix incorrect logrus imports on vendored code.
  * Vendor dependencies via 'go mod vendor'
  * Provide initial Makefile
  * gofmt
  * Ensure hockeypuck server has no unexpected arguments
  * Improve hockeypuck-load logging
  * Merge commit 'eaa0c669027ace098ee2cc4f4fd2169e68c8e414' as 'src/hockeypuck/testing'
  * Merge commit '29aca47cd0261b613faf221600c7d89f44c4e5de' as 'src/hockeypuck/pgtest'

  [ Casey Marshall ]
  * Fix row scan type for RenotifyAll.

  [ Simon Law ]
  * Match username or domain part of email addresses

  [ Joel Sing ]
  * Update vendored dependencies
  * Add lint/test targets and fix various lint errors.
  * Export jsonhkp.publicKey (as PublicKey)
  * Fix locking related bug in Stats.ReadFile
  * Fix various tests and a bug in Stats.ReadFile
  * Handle each key in a separate database transaction
  * Avoid incorrect use of sync.WaitGroup and improve skew
  * Fix bad NewStats merge.
  * Simplify packaging and release process

 -- Joel Sing <joel.sing@canonical.com>  Thu, 23 May 2019 01:11:20 +1000
